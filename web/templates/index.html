<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kuma blog</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* --- QUORA DARK THEME PALETTE --- */
            --bg-main: #181818;       
            --bg-secondary: #262626;  
            --text-main: #d5d5d5;     
            --text-muted: #939598;    
            --accent: #a882ff;        
            --accent-hover: #bfa3ff;  
            --border-color: #333333;  
        }

        * { box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-main); 
            color: var(--text-main);
            line-height: 1.7; 
            margin: 0; padding: 0;
            -webkit-font-smoothing: antialiased;
        }

        a { text-decoration: none; color: inherit; transition: 0.2s; }
        
        /* --- HEADER (TIPIS 70%) --- */
        .site-header {
            width: 100%;
            background-color: var(--bg-secondary); 
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .header-inner {
            max-width: 720px; 
            margin: 0 auto; 
            padding: 10px 24px; 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .container {
            max-width: 720px; 
            margin: 0 auto;
            padding: 40px 24px; 
        }

        .header-identity { display: flex; align-items: center; gap: 15px; }
        .brand { display: flex; flex-direction: column; gap: 0px; }
        .brand h1 { font-family: 'JetBrains Mono', monospace; font-size: 1rem; font-weight: 700; margin: 0; color: #fff; }
        .brand .tagline { font-size: 0.7rem; color: var(--text-muted); font-style: italic; }

        .nav-links {
            display: flex; gap: 20px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;
            align-items: center;
        }
        .nav-links a:hover { color: var(--accent); text-decoration: underline; }

        .action-bar { margin-bottom: 30px; }
        .btn-create {
            display: inline-flex; align-items: center; gap: 8px;
            font-family: 'JetBrains Mono', monospace; color: var(--accent);
            font-size: 0.9rem; padding: 10px 16px;
            background: var(--bg-secondary);
            border-radius: 4px; border: 1px solid var(--border-color);
        }
        .btn-create:hover { border-color: var(--accent); background: #333; }

        /* --- POST LIST (FULL CLICKABLE CARD) --- */
        .post-list { display: flex; flex-direction: column; gap: 30px; }

        .post-item { 
            display: block; 
            background-color: var(--bg-secondary); 
            border: 1px solid var(--border-color);
            border-radius: 4px; 
            overflow: hidden; 
            transition: border-color 0.2s ease, transform 0.2s ease;
            
            /* UI UX: Cursor jadi telunjuk biar user tau bisa diklik */
            cursor: pointer; 
        }

        /* Hover Effect: Border ungu & angkat dikit */
        .post-item:hover { 
            border-color: var(--accent); 
            transform: translateY(-2px);
        }

        .post-header-area {
            background-color: transparent; 
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex; align-items: center; gap: 12px;
        }

        .post-content-area {
            background-color: transparent; 
            padding: 24px 20px;
        }

        .post-footer-area {
            background-color: transparent; 
            padding: 10px 20px;
            border-top: 1px solid var(--border-color);
            display: flex; justify-content: flex-end; 
        }

        .author-avatar {
            width: 32px; height: 32px;
            border-radius: 50%; background-color: #333; 
            object-fit: cover; border: 1px solid #444; 
        }

        .post-meta-text { display: flex; flex-direction: column; line-height: 1.2; }
        
        /* Link Penulis harus tetep bisa diklik terpisah */
        .author-name { 
            font-size: 0.85rem; font-weight: 700; color: #fff; 
            position: relative; z-index: 2; /* Biar di atas link kartu */
        }
        .author-name:hover { color: var(--accent); text-decoration: underline; }

        .post-date { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: var(--text-muted); }
        .post-title { font-size: 1.4rem; font-weight: 700; margin: 0 0 10px 0; color: #fff; letter-spacing: -0.5px; }
        .post-preview { color: #b0b3b8; font-size: 0.95rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; margin: 0; }
        
        .read-more { 
            display: inline-block; font-size: 0.8rem; color: var(--accent); 
            font-weight: 600; font-family: 'JetBrains Mono', monospace; 
        }

        footer { margin-top: 80px; padding-top: 40px; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-muted); font-size: 0.8rem; font-family: 'JetBrains Mono', monospace; }
    </style>
</head>
<body>

    <header class="site-header">
        <div class="header-inner">
            <div class="header-identity">
                <div class="brand">
                    <h1>ʕ •ᴥ•ʔ kuma-blog くまーブログ.md</h1>
                    <span class="tagline">俺の”ア”女性はかわいすぎて怒ってる猫みたい</span>
                </div>
            </div>

            <nav class="nav-links">
                {{ if .IsLoggedIn }}
                    <a href="/profile" style="color: var(--accent); font-size: 1.2rem;" title="My Profile">ʕ♥ᴥ♥ʔ</a>
                    <a href="/auth/logout" style="font-size: 0.75rem; color: #666;">[ x ]</a>
                {{ else }}
                    <a href="/login">[ Login ]</a>
                {{ end }}
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="action-bar">
            <a href="/create" class="btn-create">
                <span>+</span> New Entry / 新しい日記
            </a>
        </div>

        <div class="post-list">
            {{ range .Posts }}
            <article class="post-item" onclick="location.href='/post?id={{ .ID }}'">
                
                <div class="post-header-area">
                    {{ if .User.Avatar }}
                        <img src="{{ .User.Avatar }}" alt="{{ .User.Name }}" class="author-avatar">
                    {{ else }}
                        <div class="author-avatar" style="display: flex; align-items: center; justify-content: center; color: #777; font-size: 0.8rem;">?</div>
                    {{ end }}
                    
                    <div class="post-meta-text">
                        {{ if .User.Name }}
                            <a href="/profile?id={{ .User.ID }}" class="author-name" onclick="event.stopPropagation()">{{ .User.Name }}</a>
                        {{ else }}
                            <span class="author-name">Ghost Writer</span>
                        {{ end }}
                        <span class="post-date">{{ .CreatedAt.Format "02 Jan 2006" }}</span>
                    </div>
                </div>

                <div class="post-content-area">
                    <h2 class="post-title">{{ .Title }}</h2>
                    <p class="post-preview">{{ .Content }}</p>
                </div>

                <div class="post-footer-area">
                    <span class="read-more">Read log -></span>
                </div>
            </article>
            {{ else }}
                <div style="text-align: center; color: var(--text-muted); margin-top: 50px;">
                    <p style="font-family: 'JetBrains Mono', monospace;">> No logs found. System empty.</p>
                </div>
            {{ end }}
        </div>

        <footer>
            <p>Built with Go & words by neval</p>
        </footer>
    </div>

</body>
</html>